{% extends 'stats/base.html' %}
{% load main_filters %}
{% block content %}
<div class="container mt-5">
    <!-- Season Buttons -->
    <div class="row mb-4">
        <div class="col-lg-12">
            <div class="btn-group" role="group" aria-label="Seasons">
                {% for season in all_seasons %}
                    <a href="{% url 'stats_by_season' season.id %}" class="btn btn-secondary">{{ season.name }}</a>
                {% endfor %}
            </div>
        </div>
    </div><!-- Add game page -->
<div class="container mt-5">
    <!-- Game title -->
    <h1>S{{ game.season }}D{{ game.day }} | {{ game.away }} @ {{ game.home }} </h1>
    <!-- Score breakdown -->
    <p class="mb-0"><b>{{ game.home.abbrev }}:</b> {{ game.home_points }}</p>
    <p class="mb-0"><b>{{ game.away.abbrev }}:</b> {{ game.away_points }}</p>
    <p class="mb-3"><b>Winner:</b> {{ game.winner.abbrev }}</p>
    <!-- Game stats -->
    <!-- Create a table for home team stats -->
    <h3>{{ game.home.name }}</h3>
    <table class="table table-striped table-hover table-responsive">
        <thead>
            <tr>
                <th scope="col" style="text-transform: capitalize;">PLAYER</th>
                <th scope="col" style="text-transform: capitalize;">PTS</th>
                <th scope="col" style="text-transform: capitalize;">REB</th>
                <th scope="col" style="text-transform: capitalize;">AST</th>
                <th scope="col" style="text-transform: capitalize;">STL</th>
                <th scope="col" style="text-transform: capitalize;">BLK</th>
                <th scope="col" style="text-transform: capitalize;">TO</th>
                <th scope="col" style="text-transform: capitalize;">FGM</th>
                <th scope="col" style="text-transform: capitalize;">FGA</th>
                <th scope="col" style="text-transform: capitalize;">3PM</th>
                <th scope="col" style="text-transform: capitalize;">3PA</th>
                <th scope="col" style="text-transform: capitalize;">FTM</th>
                <th scope="col" style="text-transform: capitalize;">FTA</th>
                <th scope="col" style="text-transform: capitalize;">OREB</th>
                <th scope="col" style="text-transform: capitalize;">FOULS</th>
            </tr>
        </thead>
        <tbody>
            {% for statline in home_statlines %}
                <tr>
                    <td style="text-transform: capitalize;">{{ statline.player.first_name }} {{ statline.player.last_name }}</td>
                    <td>{{ statline.points }}</td>
                    <td>{{ statline.rebounds }}</td>
                    <td>{{ statline.assists }}</td>
                    <td>{{ statline.steals }}</td>
                    <td>{{ statline.blocks }}</td>
                    <td>{{ statline.turnovers }}</td>
                    <td>{{ statline.field_goals_made }}</td>
                    <td>{{ statline.field_goals_attempted }}</td>
                    <td>{{ statline.three_pointers_made }}</td>
                    <td>{{ statline.three_pointers_attempted }}</td>
                    <td>{{ statline.free_throws_made }}</td>
                    <td>{{ statline.free_throws_attempted }}</td>
                    <td>{{ statline.offensive_rebounds }}</td>
                    <td>{{ statline.personal_fouls }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <!-- Create a table for away team stats -->
    <h3>{{ game.away.name }}</h3>
    <table class="table table-striped table-hover table-responsive">
        <thead>
            <tr>
                <th scope="col" style="text-transform: capitalize;">PLAYER</th>
                <th scope="col" style="text-transform: capitalize;">PTS</th>
                <th scope="col" style="text-transform: capitalize;">REB</th>
                <th scope="col" style="text-transform: capitalize;">AST</th>
                <th scope="col" style="text-transform: capitalize;">STL</th>
                <th scope="col" style="text-transform: capitalize;">BLK</th>
                <th scope="col" style="text-transform: capitalize;">TO</th>
                <th scope="col" style="text-transform: capitalize;">FGM</th>
                <th scope="col" style="text-transform: capitalize;">FGA</th>
                <th scope="col" style="text-transform: capitalize;">3PM</th>
                <th scope="col" style="text-transform: capitalize;">3PA</th>
                <th scope="col" style="text-transform: capitalize;">FTM</th>
                <th scope="col" style="text-transform: capitalize;">FTA</th>
                <th scope="col" style="text-transform: capitalize;">OREB</th>
                <th scope="col" style="text-transform: capitalize;">FOULS</th>
            </tr>
        </thead>
        <tbody>
            {% for statline in away_statlines %}
                <tr>
                    <td style="text-transform: capitalize;">{{ statline.player.first_name }} {{ statline.player.last_name }}</td>
                    <td>{{ statline.points }}</td>
                    <td>{{ statline.rebounds }}</td>
                    <td>{{ statline.assists }}</td>
                    <td>{{ statline.steals }}</td>
                    <td>{{ statline.blocks }}</td>
                    <td>{{ statline.turnovers }}</td>
                    <td>{{ statline.field_goals_made }}</td>
                    <td>{{ statline.field_goals_attempted }}</td>
                    <td>{{ statline.three_pointers_made }}</td>
                    <td>{{ statline.three_pointers_attempted }}</td>
                    <td>{{ statline.free_throws_made }}</td>
                    <td>{{ statline.free_throws_attempted }}</td>
                    <td>{{ statline.offensive_rebounds }}</td>
                    <td>{{ statline.personal_fouls }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
